<app-header></app-header>
<div class="games-container">
    <h1 [ngStyle]="{'color':'#DAA520'}">Mercado</h1>
    <div id="market-searcher-container">
        <form (ngSubmit)="buscarJuegos()">
            <input type="text" [(ngModel)]="filtros.nombre" name="nombre" placeholder="Nombre del juego" />
            <select [(ngModel)]="filtros.plataforma" name="plataforma" placeholder="Plataforma">
                <option value="" disabled>Selecciona una plataforma</option>
                <!-- Consolas de Sony-->
                <option value="" disabled>Sony</option>
                <option value="">Cualquiera</option>
                <option value="Playstation">PlayStation 1 (PSX)</option>
                <option value="PS2">Playstation 2</option>
                <option value="PS3">Playstation 3</option>
                <option value="PS4">Playstation 4</option>
                <option value="PS5">Playstation 5</option>
                <!-- Consolas de Microsoft-->
                <option value="" disabled>Microsoft</option>
                <option value="Xbox">Xbox</option>
                <option value="Xbox 360">Xbox 360</option>
                <option value="Xbox One">Xbox One</option>
                <option value="Xbox Series X">Xbox Series X</option>
                <!-- Consolas de Sega-->
                <option value="" disabled>Sega</option>
                <option value="Mega Drive">Sega Mega Drive / Genesis</option>
                <option value="Sega CD">Sega CD</option>
                <option value="Sega 32X">Sega 32X </option>
                <option value="Sega Saturn">Sega Saturn</option>
                <option value="Master System">Sega Master System</option>
                <option value="Dreamcast">Sega Dreamcast</option>
                <!-- Consolas de Nintendo-->
                <option value="" disabled>Nintendo</option>
                <option value="NES">Nintendo Entertainment System</option>
                <option value="SNES">Super Nintendo</option>
                <option value="N64">Nintendo 64</option>
                <option value="GameCube">Nintendo Gamecube</option>
                <option value="Wii">Nintendo Wii</option>
                <option value="Wii-U">Nintendo Wii-U</option>
                <option value="Switch">Nintendo Switch</option>
                <option value="GameBoy">Nintendo Gameboy</option>
                <option value="GBC">Nintendo Game Boy Color</option>
                <option value="GBA">Nintendo Game Boy Advance</option>
                <option value="NDS">Nintendo DS</option>
                <option value="3DS">Nintendo 3DS</option>
                <!-- Atari-->
                <option value="" disabled>Atari</option>
                <option value="Atari 2600">Atari 2600</option>
                <option value="Atari 5200">Atari 5200</option>
                <option value="Atari Jaguar">Atari Jaguar</option>
                <option value="Atari Jaguar CD">Atari Jaguar CD</option>
                <option value="Atari Lynx">Atari Lynx</option>
                <!-- PC-->
                <option value="" disabled>Otros</option>
                <option value="PC">PC</option>
                <!-- TG/PC Engine-->
                <option value="PCE">Turbografix16 / PC Engine</option>
            </select>

            <select [(ngModel)]="filtros.condicion" name="condicion">
                <option value="">Todas las condiciones</option>
                <option value="nuevo">Nuevo</option>
                <option value="usado">Usado</option>
            </select>

            <input type="number" [(ngModel)]="filtros.precioMin" name="precioMin" placeholder="Precio mínimo" />
            <input type="number" [(ngModel)]="filtros.precioMax" name="precioMax" placeholder="Precio máximo" />

            <button type="submit" class="search-btn">Buscar</button>
        </form>
    </div>

    <div class="card-container">
        <div class="card" *ngFor="let juego of juegos">
            <div class="card-header" [ngStyle]="{'border':'none'}">
                <h3>{{ juego.nombre }}</h3>
            </div>
            <div class="card-body">
                <img [src]="juego.imagen" alt="Imagen juego" class="imagen-juego" (click)="openImageModal(juego.imagen)">
                <p><strong>Condición:</strong> {{ juego.condicion }}</p>
                <p><strong>Plataforma:</strong> {{ juego.plataforma }}</p>
                <p><strong>Descripción:</strong> {{ juego.descripcion }}</p>
                <p><strong>Precio:</strong> {{juego.precio}}€</p>
                <p [id]="'results-' + juego.id"></p>
                <button class="follow-register" (click)="seguirJuego(juego.id)">Seguir</button>
            </div>
        </div>
    </div>
</div>


<div *ngIf="isImageModalOpen" class="image-modal">
    <div class="modal-content">
        <span class="close" (click)="closeImageModal()">×</span>
        <img [src]="selectedImage" alt="Imagen grande" class="modal-image">
    </div>
</div>

<app-footer></app-footer>
